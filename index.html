<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <title>WTFCode</title>
    <script type="text/javascript">
      window.WTFCode = {};
      window.WTFCode.evaluate = function(code, variables)
      {
        var lines = code.split("\n");
        var returnValue = null;
        if (variables) {} else { var variables = {}; };
        var i = 0;
        for (i = 0; i < lines.length; i++)
        {
          var line = lines[i];
          var instruction = line.split(" ")[0];
          if (instruction.toUpperCase() == "SHOW")
          {
            var i2 = 1;
            var logLevel = line.split(" ")[1].toLowerCase();
            var func = Function("out", "console." + logLevel + "(out);");
            var texts = line.split("\"");
            for (i2 = 1; i2 < texts.length - 1; i2 += 2)
            {
              func(texts[i2]);
            };
          } else if (instruction.toUpperCase() == "THROW")
          {
            var texts = line.split("\"");
            throw new Error(texts[1]);
          } else if (instruction.toUpperCase() == "IF")
          {
            var condition = line.split("[")[1].split("]")[0];
            var toExec = "";
            i++;
            while (line.split(" ")[0].toUpperCase() != "ESCAPE" && i < lines.length)
            {
              line = lines[i];
              if (line.split(" ")[0].toUpperCase() != "ESCAPE") { toExec += line + "\n"; };
              i++;
            };
            i--;
            if (window.WTFCode.evaluate(condition, variables)) { var response = window.WTFCode.evaluate(toExec, variables); if (response != null) { return response; }; };
          } else if (instruction.toUpperCase() == "JSEVAL")
          {
            var condition = " ";
            var split = line.split(" ");
            var i3 = 1;
            for (i3 = 1; i3 < split.length; i3++)
            {
              condition += " " + split[i3];
            };
            returnValue = Function("return" + condition + ";")();
          } else if (instruction.toUpperCase() == "RETURN")
          {
            var spl = line.split(" ");
            var dataType = spl[1];
            var i3 = 2;
            if (dataType.toUpperCase() == "STRING")
            {
              return line.split("\"")[1];
            } else if (dataType.toUpperCase() == "NUMBER")
            {
              return Number(spl[2]);
            } else if (dataType.toUpperCase() == "RETURNVALUE")
            {
              ev = "";
              for (i3 = 2; i3 < spl.length; i3++) ev += spl[i3] + " ";
              return window.WTFCode.evaluate(ev, variables);
            };
          } else if (instruction.toUpperCase() == "VARIABLE")
          {
            var spl = line.split(" ");
            var mode = spl[1];
            var dataType = spl[2];
            var i3 = 2;
            if (mode.toUpperCase() == "GET") returnValue = variables[spl[2]];
            if (mode.toUpperCase() == "SET")
            {
              if (dataType.toUpperCase() == "STRING")
              {
                variables[spl[3]] = line.split("\"")[1];
              } else if (dataType.toUpperCase() == "NUMBER")
              {
                variables[spl[3]] = Number(spl[4]);
              } else if (dataType.toUpperCase() == "RETURNVALUE")
              {
                ev = "";
                for (i3 = 4; i3 < spl.length; i3++) ev += spl[i3] + " ";
                variables[spl[3]] = window.WTFCode.evaluate(ev, variables);
              };
            };
          };
        };
        return returnValue;
      };
    </script>
  </head>
  <body>

  </body>
</html>
